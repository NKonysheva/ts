import { renderSearchFormBlock, searchHandler } from './search-form.js';
import { renderSearchStubBlock } from './search-results.js';
import { renderUserBlock } from './user.js';
import { renderToast } from './lib.js';
import { setLocalStorage, getUserData, getFavoritesAmount, isUserData } from './getData.js';
setLocalStorage();
const favoritesAmount = getFavoritesAmount();
const numberFavoritesAmount = typeof favoritesAmount === 'number' ? favoritesAmount : null;
const gettingUserData = getUserData();
const userData = isUserData(gettingUserData) ? gettingUserData : null;
export const reRenderUserBlock = (numberFavoritesAmount) => {
    renderUserBlock(userData.userName, userData.avatarUrl, numberFavoritesAmount);
};
window.addEventListener('DOMContentLoaded', () => {
    renderUserBlock(userData.userName, userData.avatarUrl, numberFavoritesAmount);
    renderSearchFormBlock();
    renderSearchStubBlock();
    renderToast({
        text: 'Это пример уведомления. Используйте его при необходимости',
        type: 'success',
    }, {
        name: 'Понял',
        handler: () => {
            console.log('Уведомление закрыто');
        },
    });
    document.getElementById('search').addEventListener('click', (e) => {
        e.preventDefault();
        searchHandler();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHFCQUFxQixFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzVELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDNUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN2QyxPQUFPLEVBQUMsZUFBZSxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxVQUFVLEVBQUMsTUFBTSxjQUFjLENBQUM7QUFFMUYsZUFBZSxFQUFFLENBQUE7QUFDakIsTUFBTSxlQUFlLEdBQUcsa0JBQWtCLEVBQUUsQ0FBQTtBQUM1QyxNQUFNLHFCQUFxQixHQUFHLE9BQU8sZUFBZSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUE7QUFFMUYsTUFBTSxlQUFlLEdBQUcsV0FBVyxFQUFFLENBQUE7QUFDckMsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDLGVBQWUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQTtBQUV0RSxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLHFCQUE2QixFQUFRLEVBQUU7SUFDdkUsZUFBZSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLFNBQVMsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0FBQ2hGLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7SUFDL0MsZUFBZSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLFNBQVMsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0lBQzlFLHFCQUFxQixFQUFFLENBQUM7SUFDeEIscUJBQXFCLEVBQUUsQ0FBQztJQUN4QixXQUFXLENBQ1Q7UUFDRSxJQUFJLEVBQUUsMkRBQTJEO1FBQ2pFLElBQUksRUFBRSxTQUFTO0tBQ2hCLEVBQ0Q7UUFDRSxJQUFJLEVBQUUsT0FBTztRQUNiLE9BQU8sRUFBRSxHQUFHLEVBQUU7WUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDckMsQ0FBQztLQUNGLENBQ0YsQ0FBQztJQUNGLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7UUFDaEUsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFBO1FBQ2xCLGFBQWEsRUFBRSxDQUFBO0lBQ2pCLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXJTZWFyY2hGb3JtQmxvY2ssIHNlYXJjaEhhbmRsZXIgfSBmcm9tICcuL3NlYXJjaC1mb3JtLmpzJztcclxuaW1wb3J0IHsgcmVuZGVyU2VhcmNoU3R1YkJsb2NrIH0gZnJvbSAnLi9zZWFyY2gtcmVzdWx0cy5qcyc7XHJcbmltcG9ydCB7IHJlbmRlclVzZXJCbG9jayB9IGZyb20gJy4vdXNlci5qcyc7XHJcbmltcG9ydCB7IHJlbmRlclRvYXN0IH0gZnJvbSAnLi9saWIuanMnO1xyXG5pbXBvcnQge3NldExvY2FsU3RvcmFnZSwgZ2V0VXNlckRhdGEsIGdldEZhdm9yaXRlc0Ftb3VudCwgaXNVc2VyRGF0YX0gZnJvbSAnLi9nZXREYXRhLmpzJztcclxuXHJcbnNldExvY2FsU3RvcmFnZSgpXHJcbmNvbnN0IGZhdm9yaXRlc0Ftb3VudCA9IGdldEZhdm9yaXRlc0Ftb3VudCgpXHJcbmNvbnN0IG51bWJlckZhdm9yaXRlc0Ftb3VudCA9IHR5cGVvZiBmYXZvcml0ZXNBbW91bnQgPT09ICdudW1iZXInID8gZmF2b3JpdGVzQW1vdW50IDogbnVsbFxyXG5cclxuY29uc3QgZ2V0dGluZ1VzZXJEYXRhID0gZ2V0VXNlckRhdGEoKVxyXG5jb25zdCB1c2VyRGF0YSA9IGlzVXNlckRhdGEoZ2V0dGluZ1VzZXJEYXRhKSAgPyBnZXR0aW5nVXNlckRhdGEgOiBudWxsXHJcblxyXG5leHBvcnQgY29uc3QgcmVSZW5kZXJVc2VyQmxvY2sgPSAobnVtYmVyRmF2b3JpdGVzQW1vdW50OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICByZW5kZXJVc2VyQmxvY2sodXNlckRhdGEudXNlck5hbWUsIHVzZXJEYXRhLmF2YXRhclVybCwgbnVtYmVyRmF2b3JpdGVzQW1vdW50KTtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgcmVuZGVyVXNlckJsb2NrKHVzZXJEYXRhLnVzZXJOYW1lLCB1c2VyRGF0YS5hdmF0YXJVcmwsIG51bWJlckZhdm9yaXRlc0Ftb3VudCk7XHJcbiAgcmVuZGVyU2VhcmNoRm9ybUJsb2NrKCk7XHJcbiAgcmVuZGVyU2VhcmNoU3R1YkJsb2NrKCk7XHJcbiAgcmVuZGVyVG9hc3QoXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6ICfQrdGC0L4g0L/RgNC40LzQtdGAINGD0LLQtdC00L7QvNC70LXQvdC40Y8uINCY0YHQv9C+0LvRjNC30YPQudGC0LUg0LXQs9C+INC/0YDQuCDQvdC10L7QsdGF0L7QtNC40LzQvtGB0YLQuCcsXHJcbiAgICAgIHR5cGU6ICdzdWNjZXNzJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQn9C+0L3Rj9C7JyxcclxuICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfQo9Cy0LXQtNC+0LzQu9C10L3QuNC1INC30LDQutGA0YvRgtC+Jyk7XHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBzZWFyY2hIYW5kbGVyKClcclxuICB9KVxyXG59KTtcclxuIl19